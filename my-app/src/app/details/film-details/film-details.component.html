<div class="container">
  <header class="header">
    <p class="pre-title">Filmdeatils</p>
    <div class="title-divider"></div>
    <h1 class="main-title">{{ title }}</h1>
    <h2 class="episode-title">{{ episodeTitle }}</h2>
  </header>
  <main class="grid-container">
    <div class="left-column">
      <section class="details-section">
        <h3>Details:</h3>
        <p class="details-item"><strong>Director:</strong> {{ filmDetails.director }}</p>
        <p class="details-item"><strong>Produzenten:</strong> {{ filmDetails.producers }}</p>
        <p class="details-item"><strong>Erscheinungsdatum:</strong> {{ filmDetails.releaseDate | date:'dd.MM.yyyy' }}</p>
      </section>

      <p class="synopsis">{{ synopsis }}</p>

      <section class="characters-section" *ngIf="renderedCharacters?.length">
        <h2>Charaktere:</h2>
        <div class="list">
          <div *ngFor="let character of renderedCharacters"
               class="tag-chip"
               (click)="navigateToCharacter(character.url)">
            {{ character.name }}
          </div>
          <!-- Dots will be rendered if more than 3 characters exist and by clicking on them the add character modal will be opened-->
          <button *ngIf="isMoreThanTreeCharacters()"
                  class="tag-chip"
                  type="button"
                  (click)="openAddCharacterModal()">
            ...
          </button>
        </div>
      </section>

      <section class="planets-section" *ngIf="renderedPlanets?.length">
        <h2>Planeten:</h2>
        <div class="list">
          <div *ngFor="let planet of renderedPlanets"
               class="tag-chip"
               (click)="navigateToPlanet(planet.url)">
            {{ planet.name }}
          </div>
          <!-- Dots will be rendered if more than 2 characters exist and by clicking on them the add character modal will be opened-->
          <button *ngIf="isMoreThanTwoPlanets()"
                  class="tag-chip"
                  type="button"
                  (click)="openAddPlanetPopup()">
            ...
          </button>
        </div>
      </section>

      <section class="starships-section" *ngIf="renderedStarships?.length">
        <h2>Raumschiffe:</h2>
        <div class="list">
          <div *ngFor="let starship of renderedStarships"
               class="tag-chip">
            {{ starship }}
          </div>
          <button *ngIf="isMoreThanTreeStarships()"
                  class="tag-chip"
                  type="button">
            ...
          </button>
        </div>
      </section>

      <section class="vehicles-section" *ngIf="renderedVehicles?.length">
        <h2>Fahrzeuge:</h2>
        <div class="list">
          <div *ngFor="let vehicle of renderedVehicles"
               class="tag-chip">
            {{ vehicle }}
          </div>
          <button *ngIf="isMoreThanTreeVehicles()"
                  class="tag-chip"
                  type="button">
            ...
          </button>
        </div>
      </section>
    </div>
    <div class="right-column">
      <div class="image-carousel">
        <img [src]="currentImage" alt="Image" class="carousel-image">
        <div class="pagination">
          <span
            *ngFor="let image of images; let i = index"
            class="dot"
            [class.active]="currentImageIndex === i"
            (click)="selectImage(i)">
          </span>
        </div>
      </div>
    </div>
  </main>

  <!-- Add Character Modal -->
  <div class="modal-backdrop" *ngIf="showAddCharacterModal" role="dialog" aria-modal="true">
    <div class="modal-content">
      <app-add-character (close)="closeAddCharacterModal()"></app-add-character>
    </div>
  </div>
  <!-- Add Planet Modal -->
  <div class="modal-backdrop" *ngIf="showAddPlanetModal" role="dialog" aria-modal="true">
    <div class="modal-content">
      <app-add-planet class="modal-form" (close)="closeAddPlanetModal()"></app-add-planet>
    </div>
  </div>
</div>
