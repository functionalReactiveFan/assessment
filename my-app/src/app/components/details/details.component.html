<div class="character-container" *ngIf="title || details?.length">
  <header class="header">
    <p class="pre-title">{{ subtitle }}</p>
    <div class="title-divider"></div>
    <h1 class="main-title">{{ title }}</h1>
  </header>

  <main class="content-grid">
    <div class="info-column">
      <section class="details-section" *ngIf="details?.length">
        <h2>Details:</h2>
        <ul class="details-list">
          <li *ngFor="let d of details">
            <strong>{{ d.label }}:</strong> {{ d.value }}
          </li>
        </ul>
      </section>

      <section class="homeworld-section" *ngIf="renderedHomeworld?.name">
        <h2>Heimatplanet:</h2>
        <div class="chip" (click)="redirectTo(mode, renderedHomeworld?.url)">{{ renderedHomeworld?.name }}</div>
      </section>

      <section class="films-section" *ngIf="filmsUrls?.length">
        <h2>Filme:</h2>
        <div class="chips-container">
          <div class="chip"
               *ngFor="let filmUrl of displayedFilmsUrls"
               (click)="navigateToFilm(filmUrl)">
            {{ formatFilm(filmUrl) }}
          </div>
          <!-- Chip with dots visible only when more than maxCollapsedCount and by click on it popup will be opened-->
          <button *ngIf="isFilmsMoreThanMax()"
                  class="chip"
                  type="button"
                  (click)="openAddFilmPopup()">
            ...
          </button>
        </div>
      </section>

      <section class="planets-section" *ngIf="allPlanets?.length">
        <h2>Planeten:</h2>
        <div class="chips-container">
          <div class="chip"
               *ngFor="let planet of renderedPlanets"
               (click)="navigateToPlanet(planet.url)">
            {{ planet.name }}
          </div>
          <!-- Chip with dots visible only when more than maxCollapsedCount and by click on it popup will be opened-->
          <button *ngIf="isPlanetsMoreThanMax()"
                  class="chip"
                  type="button"
                  (click)="openAddPlanetPopup()">
            ...
          </button>
        </div>
      </section>

      <section class="starships-section" *ngIf="starshipsUrls?.length">
        <h2>Raumschiffe:</h2>
        <div class="chips-container">
          <div class="chip"
               *ngFor="let starship of displayedStarships">
            {{starship}}
          </div>
          <button *ngIf="isStarshipsMoreThanMax()"
                  class="chip"
                  type="button">
            ...
          </button>
        </div>
      </section>

      <section class="vehicles-section" *ngIf="vehiclesUrls?.length">
        <h2>Fahrzeuge:</h2>
        <div class="chips-container">
          <div class="chip"
               *ngFor="let vehicle of renderedVehicles">
            {{ vehicle }}
          </div>
          <button *ngIf="isVehiclesMoreThanMax()"
                  class="chip"
                  type="button">
            ...
          </button>
        </div>
      </section>
    </div>

    <div class="image-column" *ngIf="images?.length">
      <img [src]="currentImage"
           alt="image"
           class="character-image">
      <div class="pagination-dots" *ngIf="images.length > 1">
        <span class="dot"
              *ngFor="let img of images; let i = index"
              [class.active]="currentImageIndex === i"
              (click)="selectImage(i)"></span>
      </div>
    </div>
  </main>

  <div class="modal-backdrop" *ngIf="showAddFilmModal" role="dialog" aria-modal="true">
    <div class="modal-content">
      <app-add-film class="modal-form" (close)="closeAddFilmModal()"></app-add-film>
    </div>
  </div>
  <div class="modal-backdrop" *ngIf="showAddPlanetModal" role="dialog" aria-modal="true">
    <div class="modal-content">
      <app-add-planet class="modal-form" (close)="closeAddPlanetModal()"></app-add-planet>
    </div>
  </div>
</div>
